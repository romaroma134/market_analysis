# Analysis Protocol

Этот документ описывает основные этапы аналитического конвейера:

1. **Сбор данных**: использование `Collector` для исторического бэкапа и live-потока через RPC/WSS.
2. **Нормализация**: приведение raw-логов к унифицированному формату при помощи `Normalizer`.
3. **Извлечение признаков**: обогащение данных метриками и агрегатами через `FeatureExtractor`.
4. **Классификация**: применение правил для сегментации участников с помощью `Classifier`.
5. **Расчет PnL**: вычисление реализованного PnL через `PnLCalculator`.
6. **Отчетность**: генерация CSV/JSON отчётов модулем `Reporter`.

Каждый этап должен конфигурироваться через `config.yaml` и поддерживать воспроизводимость экспериментов.
